<!doctype html>
<html>

<head>
    <meta charset="utf-8">
    <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/milligram/1.2.3/milligram.min.css">
    <script src="https://cdn.rawgit.com/ethereum/web3.js/develop/dist/web3.js"></script>
    <script type="text/javascript" src="./web3/bower_components/web3/dist/web3.min.js"></script>
    <title>RECORDS :: KNU COIN</title>
    <style>
        
        .contents
        {
            float:left;
            width:100%;
            margin:0 auto;
            text-align:center;
            list-style : none;
        }
    </style>

    <link rel="stylesheet" type="text/css" href="css/util.css">
    <link rel="stylesheet" type="text/css" href="css/main.css">
    <link rel="stylesheet" type="text/css" href="fonts/font-awesome-4.7.0/css/font-awesome.min.css">
</head>

<body>
    
    <div class="contents">
	
	 <li><div id="hi"><br></li>
	<li> <div id="hi2"></li>

	<div class="limiter">
		<div class="container-table100">
			<div class="wrap-table100">
				<div class="table100 ver1 m-b-110">
					<div class="table100-head">
						<table>
							<thead>
							
		<tr class="row100 head">
			<th class="cell100 column1">Time</th>
			<th class="cell100 column2">from</th>
			<th class="cell100 column3">to</th>
			<th class="cell100 column4">amount</th>
			<th class="cell100 column5">index</th>
		</tr>
							</thead>
						</table>
					</div>
					<table>
						<tbody>
		<tr class="row100 body">
			<td class="cell100 column1">2018-10-18 17:55</td>
			<td>총무부</td>
			<td>동우마트</td>
			<td>300,000</td>
			<td>1</td>
		</tr>
		<tr class="row100 body">
			<td>2018-10-20 18:56</td>
			<td>도서부</td>
			<td>경대서점</td>
			<td>130,000</td>
			<td>2</td>
		</tr>
		<tr>
			<td>2018-10-23 13:36</td>
			<td>홍보부</td>
			<td>맘스터치</td>
			<td>280,000</td>
			<td>3</td>
		</tr>
		<tr>
			<td>2018-10-14 14:21</td>
			<td>총무부</td>
			<td>부리또 익스프레스</td>
			<td>450,000</td>
			<td>4</td>
      <!--  <iFrame Name=mains width=1200px height=1000px Scrolling=no src="about.html"
         MarginWidth=0 MarginHeight=0 FrameBorder=0></iFrame>-->
    </div>
</body>

    <script>
    	//window.addEventListener('load', function() {
	var Web3 = require("web3");
	 web3 = new Web3(new Web3.providers.HttpProvider("https://ropsten.infura.io/API_KEY"));
  // // Checking if Web3 has been injected by the browser (Mist/MetaMask)
  // if (typeof web3 !== 'undefined') {
  //   // Use Mist/MetaMask's provider
  //   //window.web3 = new Web3(web3.givenProvider||web3.currentProvider);
  //   window.web3 = new Web3(new Web3.providers.HttpProvider("https://ropsten.infura.io/API_KEY"));
  // } else {
  //   console.log('No web3? You should consider trying MetaMask!')
  //   // fallback - use your fallback strategy (local node / hosted node + in-dapp id mgmt / fail)
  //    window.web3 = new Web3(new Web3.providers.HttpProvider("http://localhost:8545"));
  // }
  // // Now you can start your app & access web3 freely:
  // showAccounts();
//});
    // web3 = new Web3(new Web3.providers.HttpProvider('http://localhost:8545'));
    var KNU = web3.eth.contract([
	{
		"anonymous": false,
		"inputs": [
			{
				"indexed": true,
				"name": "from",
				"type": "address"
			},
			{
				"indexed": true,
				"name": "to",
				"type": "address"
			},
			{
				"indexed": false,
				"name": "value",
				"type": "uint256"
			}
		],
		"name": "Transfer",
		"type": "event"
	},
	{
		"constant": false,
		"inputs": [
			{
				"name": "_spender",
				"type": "address"
			},
			{
				"name": "_value",
				"type": "uint256"
			}
		],
		"name": "approve",
		"outputs": [
			{
				"name": "",
				"type": "bool"
			}
		],
		"payable": false,
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"anonymous": false,
		"inputs": [
			{
				"indexed": true,
				"name": "owner",
				"type": "address"
			},
			{
				"indexed": true,
				"name": "spender",
				"type": "address"
			},
			{
				"indexed": false,
				"name": "value",
				"type": "uint256"
			}
		],
		"name": "Approval",
		"type": "event"
	},
	{
		"constant": false,
		"inputs": [
			{
				"name": "_spender",
				"type": "address"
			},
			{
				"name": "_subtractedValue",
				"type": "uint256"
			}
		],
		"name": "decreaseApproval",
		"outputs": [
			{
				"name": "",
				"type": "bool"
			}
		],
		"payable": false,
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"constant": false,
		"inputs": [
			{
				"name": "_spender",
				"type": "address"
			},
			{
				"name": "_addedValue",
				"type": "uint256"
			}
		],
		"name": "increaseApproval",
		"outputs": [
			{
				"name": "",
				"type": "bool"
			}
		],
		"payable": false,
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"constant": false,
		"inputs": [],
		"name": "SimpleToken",
		"outputs": [],
		"payable": false,
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"constant": false,
		"inputs": [
			{
				"name": "_to",
				"type": "address"
			},
			{
				"name": "_value",
				"type": "uint256"
			}
		],
		"name": "transfer",
		"outputs": [
			{
				"name": "",
				"type": "bool"
			}
		],
		"payable": false,
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"constant": false,
		"inputs": [
			{
				"name": "_from",
				"type": "address"
			},
			{
				"name": "_to",
				"type": "address"
			},
			{
				"name": "_value",
				"type": "uint256"
			}
		],
		"name": "transferFrom",
		"outputs": [
			{
				"name": "",
				"type": "bool"
			}
		],
		"payable": false,
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"constant": true,
		"inputs": [
			{
				"name": "_owner",
				"type": "address"
			},
			{
				"name": "_spender",
				"type": "address"
			}
		],
		"name": "allowance",
		"outputs": [
			{
				"name": "",
				"type": "uint256"
			}
		],
		"payable": false,
		"stateMutability": "view",
		"type": "function"
	},
	{
		"constant": true,
		"inputs": [
			{
				"name": "_owner",
				"type": "address"
			}
		],
		"name": "balanceOf",
		"outputs": [
			{
				"name": "balance",
				"type": "uint256"
			}
		],
		"payable": false,
		"stateMutability": "view",
		"type": "function"
	},
	{
		"constant": true,
		"inputs": [],
		"name": "decimals",
		"outputs": [
			{
				"name": "",
				"type": "uint8"
			}
		],
		"payable": false,
		"stateMutability": "view",
		"type": "function"
	},
	{
		"constant": true,
		"inputs": [],
		"name": "INITIAL_SUPPLY",
		"outputs": [
			{
				"name": "",
				"type": "uint256"
			}
		],
		"payable": false,
		"stateMutability": "view",
		"type": "function"
	},
	{
		"constant": true,
		"inputs": [],
		"name": "name",
		"outputs": [
			{
				"name": "",
				"type": "string"
			}
		],
		"payable": false,
		"stateMutability": "view",
		"type": "function"
	},
	{
		"constant": true,
		"inputs": [],
		"name": "symbol",
		"outputs": [
			{
				"name": "",
				"type": "string"
			}
		],
		"payable": false,
		"stateMutability": "view",
		"type": "function"
	},
	{
		"constant": true,
		"inputs": [],
		"name": "totalSupply",
		"outputs": [
			{
				"name": "",
				"type": "uint256"
			}
		],
		"payable": false,
		"stateMutability": "view",
		"type": "function"
	}
]);
	var KNUInstance = KNU.at("0x42579d4badf45cedfa2184870d49480f71433834");
/*    var wallet = web3.eth.getAccounts(function(e,r){
        console.log(r);
    });
    console.log(wallet);
    function showAccounts(){
	web3.eth.getAccounts(function(e,r){
		document.getElementById('accounts').innerHTML = r;
	})
}*/
function showBalances(){
	var wallet1 = accounts[0];
	var wallet2 = accouts[1];
	var coin1 = KNUInstance.balanceOf(wallet1);
	var coin2 = KNUInstance.balanceOf(wallet2);
	var list = coin1 + '<br>'+ coin2 + '<br>';
	document.getElementById('h1').innerHTML=list;
}
function sendTransaction(){
	//web3.personal.unlockAccount("0x..", "<passs>", 1000);
	//KNUInstance.transfer.sendTransaction(from_account, to_account, 20000,  {from:accounts[0], gas:1000000});
}
    //  web3.eth.getAccounts(function(e,r){
    //     console.log(r);
    // });
    // console.log(KNUInstance.balan)
   // KNUInstance.setValue.sendTransaction("2018-07-06", 1000000, 5500000, "Daiso", "withdraw", {from : web3.eth.accounts[0], gas:11000000});
    // KNUInstance.setValue.sendTransaction("2018-07-07", 50000000, 60500000, "Harry", "Deposit", {from : web3.eth.accounts[0], gas:11000000});
     var trans1 = KNUInstance.getValue(0);
     console.log(trans1[2].c);
	  document.getElementById('hi').innerHTML=trans1;
     var trans2 = KNUInstance.getValue(1);
     console.log(trans2);
	  document.getElementById('hi2').innerHTML=trans2;
</script>

</html>